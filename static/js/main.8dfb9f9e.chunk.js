(this["webpackJsonpjira-app"]=this["webpackJsonpjira-app"]||[]).push([[0],{176:function(e,t,n){e.exports=n(360)},181:function(e,t,n){},356:function(e,t,n){},357:function(e,t,n){},360:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(20),i=n.n(o),s=(n(181),n(7)),c=n(8),l=n(11),u=n(10),p=n(12),m=(n(63),n(21)),d=n.n(m),h=n(46),g=window.require("request"),f=function(){var e=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var r={method:"GET",url:"https://mitrmedia.atlassian.net/rest/api/3/issue/createmeta",headers:{"cache-control":"no-cache",authorization:"Basic ".concat(t),"content-type":"application/json"},json:!0};g(r,(function(t,a,r){if(t)throw new Error(t);return n&&n(r),e(r)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),y=n(36),v=n(9),w=n(85),b=n(148),E=n(155),j=n(152),x=n(153);n(169);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.outerBoxPadding;return r.a.createElement(b.a,{style:{width:"350px",justifyContent:"center",padding:e}},this.props.subHeading&&r.a.createElement("div",null," ",r.a.createElement("h4",null,r.a.createElement("u",{style:{color:"black",textDecoration:"unset",fontSize:"22px",fontWeight:"bold"}},this.props.subHeading))),r.a.createElement(E.a,{style:{width:"100%",height:"100%",marginBottom:"0px"}},this.props.Header,r.a.createElement(j.a,{style:{color:"black",fontWeight:"normal",fontSize:"15px"}},r.a.createElement(x.a,null,this.props.children))))}}]),t}(a.Component),C=function(e){return r.a.createElement(w.a,{id:"submit",onClick:e.onClick,style:k({},e.style,{backgroundColor:"#0062cc",fontSize:"12px"})},e.name)},R=O,P=function(e){var t=e.h1,n=e.h2;return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement("h3",null,r.a.createElement("u",{style:{color:"black",fontWeight:"bold",textDecoration:"unset",fontSize:"35px"}},t)),n&&r.a.createElement("h4",null,r.a.createElement("u",{style:{color:"black",textDecoration:"unset",fontSize:"22px",fontWeight:"bold"}},n)))};n(356);window.AutoLogin=function(){};var D,I=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).autoLogin=function(){n.setState({name:"mitrqa1@mitrlearning.com",password:"UrgDR5P082cMfsva3Ro46C64"},(function(){var e=n.convertBtoa();localStorage.setItem("AuthorizationToken","Basic ".concat(e)),f(e,(function(e){e.projects&&e.projects.length>0&&(Object.assign(n.props.history,{projectList:e}),n.setState({isAuthorizedUser:!0}))}))}))},n.handleValidSubmit=function(e,t){e.preventDefault(),n.setState({name:t.email,password:t.password},(function(){var e=n.convertBtoa();localStorage.setItem("AuthorizationToken","Basic ".concat(e)),f(e,(function(e){e.projects&&e.projects.length>0&&(Object.assign(n.props.history,{projectList:e}),n.setState({isAuthorizedUser:!0}))}))})),console.log("Login Successful",t)},n.handleInvalidSubmit=function(e,t,a){n.setState({email:a.email,error:!0}),console.log("Login failed")},n.convertBtoa=function(){var e=n.state,t=e.name,a=e.password;console.log(t,"name",a,"password");var r="".concat(t,":").concat(a),o=encodeURIComponent(r).replace(/%([0-9A-F]{2})/g,(function(e,t){return String.fromCharCode("0x"+t)}));return btoa(o)},n.state={email:!1,isAuthorizedUser:!1,name:"",password:""},window.AutoLogin=n.autoLogin,n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return this.state.isAuthorizedUser&&this.props.history.push("/ReportIssue"),r.a.createElement(R,{Header:r.a.createElement(P,{h1:"MITR",h2:"JIRA Issue Logger"}),outerBoxPadding:"60px 15px"},r.a.createElement("div",{style:{justifyContent:"center",padding:"0 22px 0 22px",width:"100%",height:"100%"}},r.a.createElement(y.AvForm,{onValidSubmit:this.handleValidSubmit,onInvalidSubmit:this.handleInvalidSubmit},r.a.createElement("div",{className:"form-group",style:{fontSize:"12px",justifyContent:"center",display:"flex"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("span",{className:"input-group-addon",style:{border:"1px solid lightgrey"}},r.a.createElement("i",{className:"glyphicon glyphicon-user","aria-hidden":"true"}))),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(y.AvField,{style:{fontSize:"inherit",height:"30px"},name:"email",type:"text",className:"form-control",placeholder:"Username",validate:{required:!0,email:!0}}))),r.a.createElement("div",{className:"form-group",style:{fontSize:"12px",justifyContent:"center",display:"flex"}},r.a.createElement("div",{style:{width:"20%"}},r.a.createElement("span",{className:"input-group-addon",style:{border:"1px solid lightgrey"}},r.a.createElement("i",{className:"glyphicon glyphicon-lock","aria-hidden":"true"}))),r.a.createElement("div",{style:{width:"80%"}},r.a.createElement(y.AvField,{style:{fontSize:"inherit",height:"30px"},name:"password",placeholder:"Password",className:"form-control",type:"password",validate:{required:{value:!0,errorMessage:"Please enter your password"},pattern:{value:"^[A-Za-z0-9]+$",errorMessage:"Your password must be composed only with letter and numbers"},minLength:{value:6,errorMessage:"Your password must be between 6 and 16 characters"},maxLength:{value:50,errorMessage:"Your password must be between 6 and 16 characters"}}}))),r.a.createElement("div",{style:{width:"100%",display:"flex",justifyContent:"center"}},r.a.createElement(C,{name:"Login"})))," "))}}]),t}(a.Component),A=n(154),T=(n(357),{severity:"customfield_10604",category:"customfield_11101",platforms:"customfield_11200",found_during:"customfield_11300",rounds:"customfield_11301",testers:"customfield_11700"}),L=window.require("fs"),z=window.require("request"),N=localStorage.getItem("AuthorizationToken"),B=function(){var e=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var r={method:"GET",url:"https://mitrmedia.atlassian.net/rest/api/3/project/".concat(t,"/components"),headers:{"cache-control":"no-cache",authorization:N,"content-type":"application/json"},json:!0};z(r,(function(t,a,r){if(t)throw new Error(t);return n&&n(r),e(r)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),W=function(){var e=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){var r={method:"GET",url:"https://mitrmedia.atlassian.net/rest/api/3/project/".concat(t,"/versions"),headers:{"cache-control":"no-cache",authorization:N,"content-type":"application/json"},json:!0};z(r,(function(t,a,r){if(t)throw new Error(t);return n&&n(r),e(r)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),q=function(){var e=Object(h.a)(d.a.mark((function e(t,n){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,a){z({method:"GET",url:"https://mitrmedia.atlassian.net/rest/api/3/issue/createmeta",qs:{projectKeys:t,expand:"projects.issuetypes.fields"},headers:{"cache-control":"no-cache",authorization:N,"content-type":"application/json"},json:!0},(function(t,a,r){if(t)throw new Error(t);var o=r.projects[0].issuetypes[0].fields;return n&&n(o),e(r)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),F=function(){var e=Object(h.a)(d.a.mark((function e(t,n,a){var r,o,i,s,c,l,u,p,m,h,g,f;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.summary,o=n.desc,i=n.severity,s=n.issueType,c=t.key,l=t.components,u=t.phase,p=t.round,m=t.platforms,h=t.foundDuring,g=t.tester,f=t.category,e.next=4,new Promise((function(e,t){var n,d={fields:(n={summary:r,issuetype:{name:s},project:{key:c},description:{type:"doc",version:1,content:[{type:"paragraph",content:[{text:o,type:"text"}]}]}},Object(v.a)(n,T.severity,{value:i}),Object(v.a)(n,T.rounds,{value:p}),Object(v.a)(n,T.category,{value:f}),Object(v.a)(n,T.platforms,m.map((function(e){return{value:e}}))),Object(v.a)(n,T.found_during,{value:h}),Object(v.a)(n,T.testers,{value:g}),Object(v.a)(n,"versions",[{name:u}]),Object(v.a)(n,"components",l.map((function(e){return{name:e}}))),n)};z({method:"POST",url:"https://mitrmedia.atlassian.net/rest/api/3/issue/",headers:{"cache-control":"no-cache",authorization:N,"content-type":"application/json",accept:"application/json"},body:d,json:!0},(function(t,n,r){if(t)throw new Error(t);return a&&a(r),e(r)}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),M=function(){var e=Object(h.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var a=L.createReadStream("./tempImage/image.png");console.log(a,"value");var r={method:"POST",url:"https://mitrmedia.atlassian.net/rest/api/3/issue/".concat(t,"/attachments"),headers:{"cache-control":"no-cache","x-atlassian-token":"no-check",authorization:N,"content-type":"multipart/form-data; boundary=----WebKitFormBoundary7MA4YWxkTrZu0gW"},formData:{file:{value:a,options:{filename:"attachmentImage.png",contentType:null}}}};z(r,(function(t,n,a){if(t)throw new Error(t);return e(a)}))}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),U=window.require("electron").remote.BrowserWindow;var V=function(){var e=U.getFocusedWindow();e.minimize(),(D=new U({width:0,height:0,webPreferences:{nodeIntegration:!0}})).webContents.send("channel"),D.loadURL("http://localhost:3000/ScreenShotEditor"),D.on("closed",(function(t){e.restore(),D=null}))},_=window.require("fs"),Y=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).imageRef=r.a.createRef(),n.state={severity:"",issueType:"",summary:"",desc:"",imageSrc:"",isSubmit:!1,ticketID:"",isAttachment:!1},n.handleSubmit=function(){V()},n.showScreenshotScreen=function(){return r.a.createElement("div",null,r.a.createElement(w.a,{onClick:function(){return n.props.history.push("/ReportIssue")}},"backButton"),r.a.createElement(w.a,{onClick:function(e){n.props.history.push("/ReportFeedback")},id:"submit"},"Report Issue"))},n.onSubmitIssue=function(e){var t=n.state,a=t.severity,r=t.issueType,o=t.summary,i=t.desc,s=t.imgSrc;e===s&&n.setState({imgSrc:s}),n.setState({isSubmit:!0}),""!==a&&""!==r&&""!==o&&""!==i&&F(n.props.history.projectDetails,{summary:o,desc:i,severity:a,issueType:r},(function(e){n.state.isAttachment&&M(e.key),Object.assign(n.props.history,{issueDetails:e}),n.props.history.push("/ReportFeedback")}))},n.showSummaryPage=function(){var e=n.props.history.projectDetails.severityArray,t=n.state,a=t.severity,o=t.issueType,i=t.summary,s=t.desc,c=t.isSubmit,l=t.isAttachment;return r.a.createElement(R,{Header:r.a.createElement(P,{h2:"Creating Issue"})},r.a.createElement(y.AvForm,null,r.a.createElement("div",{style:{fontSize:"10px"}},""===i&&c&&r.a.createElement("span",{className:"issue-alert"},"Please enter summary"),r.a.createElement(A.a,{type:"text",name:"text",id:"exampleText",placeholder:"Summary",onChange:function(e){return n.setState({summary:e.target.value})}}),""===s&&c&&r.a.createElement("span",{className:"issue-alert"},"Please select description"),r.a.createElement(A.a,{type:"textarea",placeholder:"Description",name:"text",id:"exampleTextAria",onChange:function(e){return n.setState({desc:e.target.value})}}),r.a.createElement("div",{className:"optionWrapper"},r.a.createElement("div",{style:{width:"100%",marginRight:"5px"}},""===a&&c&&r.a.createElement("span",{className:"issue-alert"},"Please select description"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({severity:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Severity"),e&&e.map((function(e,t){return r.a.createElement("option",{id:t,key:t},e)})))),r.a.createElement("div",{style:{width:"100%",marginLeft:"5px"}},""===o&&c&&r.a.createElement("span",{className:"issue-alert"},"Please select description"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({issueType:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Issue Type"),["Bug","Improvement"].map((function(e,t){return r.a.createElement("option",{key:t,id:t},e)})))))),l&&r.a.createElement("div",{style:{backgroundColor:"#f5f5f5",border:"1px solid transparent",fontWeight:"normal",width:"100%",marginBottom:"5px",textAlign:"left",color:"grey"}},r.a.createElement("span",null," ","image.png"),r.a.createElement("button",{style:{float:"right",border:"0",background:"border-box"},onClick:function(){_.unlink("./tempImage/image.png",(function(e){})),n.setState({isAttachment:!1})}},r.a.createElement("i",{style:{color:"palevioletred"},class:"glyphicon glyphicon-trash"}))),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",marginTop:"30px"}},r.a.createElement(C,{style:{marginRight:"20px"},name:" Take Snapshot",id:"submit",type:"submit",onClick:n.handleSubmit}),r.a.createElement(C,{style:{marginLeft:"20px"},name:"Create Issue",id:"submit",type:"submit",onClick:n.onSubmitIssue}))),r.a.createElement("div",{style:{textDecoration:"underline",color:"blue",fontSize:"12px",marginTop:"23px",float:"left",cursor:"pointer"},onClick:function(){n.props.history.push("/ReportIssue")}}," ","  <- Back to Project Info"))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("visibilitychange",(function(){try{_.existsSync("./tempImage/image.png")?e.setState({isAttachment:!0}):e.setState({isAttachment:!1})}catch(t){}}),!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("visibilitychange",(function(){}))}},{key:"render",value:function(){return this.showSummaryPage()}}]),t}(a.Component),H=window.require("fs"),X=window.require("electron").shell,G=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){H.unlink("./tempImage/image.png",(function(e){e&&console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props.history.issueDetails;return r.a.createElement(R,{Header:r.a.createElement(P,{h2:"Thank you "})},r.a.createElement(y.AvForm,null,r.a.createElement("div",{style:{fontSize:"15px"}},r.a.createElement("p",{style:{fontWeight:"bold"}},"The issue has been logged in jira"),r.a.createElement("p",null,"if you wish to change something in ticket, please click below link."),r.a.createElement("p",null,t&&r.a.createElement(w.a,{style:{fontSize:"15px",background:"none",border:"0",color:"blue",textDecoration:"underline"},onClick:function(){return X.openExternal("https://mitrmedia.atlassian.net/browse/"+t.key)}},t.key))),r.a.createElement(C,{onClick:function(){return e.props.history.push("/CreateIssue")},name:"Report Another Issue"})))}}]),t}(a.Component),J=n(173),K=n(45),Z=n(3),$=n(31),Q=window.require("screenshot-desktop"),ee=window.require("electron").remote;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?te(Object(n),!0).forEach((function(t){Object(v.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):te(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var ae=window.require("fs"),re=window.require("request"),oe={Width:800,height:500},ie=.7,se=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(n=Object(l.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={bounds:ne({},oe),cropBounds:{width:0,height:0,x:0,y:0},textPosition:{x:0,y:0},text:"",windowSize:{width:0,height:0},zoom:0},n.textEditor=function(e){n.stage.addEventListener("pressup",n.enableTextEditor)},n.cropImage=function(){n.stage.alpha=.3,n.stage.addEventListener("mousedown",n.enableCropSection),n.stage.addEventListener("pressmove",n.dragCropArea),n.stage.addEventListener("pressup",n.setCropImage)},n.enableTextEditor=function(e){n.setState({textPosition:{x:e.stageX,y:e.stageY}}),n.title?n.writeTextOnCanvas():n.createTextField()},n.createTextField=function(){n.title=document.createElement("input"),n.title.style.position="absolute",n.title.type="text",n.title.addEventListener("keyup",(function(e){13===e.keyCode&&n.writeTextOnCanvas(),n.setState({text:e.target.value})}));var e=n.state.textPosition,t=e.x,a=e.y;n.title.style.top="".concat(a,"px"),n.title.style.left="".concat(t,"px"),n.title.style.color="red",n.title.style.background="transparent",n.container.current.style.position="relative",n.container.current.append(n.title),n.title.focus()},n.writeTextOnCanvas=function(){var e=n.state,t=e.textPosition,a=t.x,r=t.y,o=e.text;n.text=new $.e(o,"20px Arial","#da2222"),n.text.x=a,n.text.y=r,n.stage.addChild(n.text),n.container.current.style.position="static",n.container.current.removeChild(n.title),n.setState({text:""}),n.title=null,n.stage.removeEventListener("pressup",n.enableTextEditor)},n.setCropImage=function(e){n.stage.alpha=1,setTimeout((function(){var e=n.state.cropBounds,t=e.width,a=e.height,r=e.x,o=e.y;n.cropImage=new $.a(n.stage.toDataURL()),n.cropImage.sourceRect=new $.b(r,o,t,a),n.stage.removeAllChildren(),n.setState({bounds:n.bitmap.getBounds()}),n.stage.addChild(n.cropImage)}),200),n.stage.removeEventListener("pressup",n.setCropImage)},n.dragCropArea=function(e){var t=e.stageX,a=e.stageY,r=t-n.newRect.x,o=a-n.newRect.y;n.newRect.graphics.clear().beginStroke("black").drawRect(0,0,r,o),n.setState({cropBounds:ne({},n.state.cropBounds,{width:r,height:o})})},n.enableCropSection=function(e){n.newRect&&n.stage.removeChild(n.newRect),n.newRect=new $.c,n.newRect.graphics.beginStroke("black").drawRect(0,0,1,1);var t=e.stageX,a=e.stageY;n.newRect.x=t,n.newRect.y=a,n.stage.addChild(n.newRect),n.setState({cropBounds:ne({},n.state.cropBounds,{x:t,y:a})})},n.drawRectangle=function(){n.stage.addEventListener("mousedown",n.enableRectangle),n.stage.addEventListener("pressmove",n.dragRectangle),n.stage.addEventListener("pressup",n.removeAllListeners)},n.enableRectangle=function(e){n.drawRect=new $.c,n.drawRect.graphics.beginStroke("#da2222").drawRect(0,0,1,1);var t=e.stageX,a=e.stageY;n.drawRect.x=t,n.drawRect.y=a,n.stage.addChild(n.drawRect)},n.dragRectangle=function(e){var t=e.stageX,a=e.stageY,r=t-n.drawRect.x,o=a-n.drawRect.y;n.drawRect.graphics.clear().setStrokeStyle(5).beginStroke("#da2222").drawRect(0,0,r,o)},n.removeAllListeners=function(){n.stage.removeEventListener("mousedown",n.enableRectangle),n.stage.removeEventListener("pressmove",n.dragRectangle),n.stage.removeEventListener("pressup",n.removeAllListeners)},n.init=function(){window.aa=Object(Z.a)(n);var e=n.state.imageSrc;n.stage=new $.d("canvas"),window.Bitmap=$.a,n.bitmap=new $.a(e),n.bitmap.scaleX=ie,n.bitmap.scaleY=ie,n.stage.addChild(n.bitmap),n.bitmap=new $.a(n.stage.toDataURL()),n.stage.addChild(n.bitmap),n.bitmap.getBounds()&&n.setState({bounds:n.bitmap.getBounds()})},n.container=r.a.createRef(),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"initialLoad",value:function(){var e=this;!function(e){var t=ee.BrowserWindow.getFocusedWindow();t.minimize(),setTimeout((function(){Q().then((function(t){var n=new Image;n.src="data:image/png;base64, ".concat(t.toString("base64"));var a={width:0,height:0};n.onload=function(){a.width=n.width,a.height=n.height,window.resizeTo(n.width,n.height),console.log(t,"imgBuffer",n),e("data:image/png;base64, ".concat(t.toString("base64")),a)}})).catch((function(e){console.error(e.message)})),setTimeout((function(){t.restore()}),0)}),10)}((function(t,n){e.setState({imageSrc:t,windowSize:n}),e.init(),window.addEventListener("scroll",(function(t){if(window.document.body.getBoundingClientRect().top<0){var n=e.state.zoom;e.setState({zoom:n+.2})}else{var a=e.state.zoom;e.setState({zoom:a-.2})}})),$.f.addEventListener("tick",(function(t){e.stage.update()}))}))}},{key:"componentDidMount",value:function(){this.initialLoad()}},{key:"download",value:function(e,t,n){re.head(e,(function(a,r,o){re(e).pipe(ae.createWriteStream(t)).on("close",n)}))}},{key:"render",value:function(){var e=this;console.log(this.state.windowSize);var t=this.state.windowSize,n=t.height,a=t.width;return r.a.createElement("div",{style:{width:a-100,height:n-100}},r.a.createElement("div",{style:{width:"100%",height:"10%"}},r.a.createElement(C,{onClick:function(){var t=e.stage.toDataURL().replace(/^data:image\/png;base64,/,"");window.require("fs").writeFile("./tempImage/image.png",t,"base64",(function(e){console.log(e)})),window.close()},style:{marginRight:"10px"},name:"Done"}),r.a.createElement(C,{onClick:function(){ae.unlink("./tempImage/image.png",(function(e){e&&console.error(e)})),window.close()},style:{marginLeft:"10px"},name:"Cancel"}),r.a.createElement(C,{style:{marginLeft:"20px"},onClick:function(){setTimeout((function(){e.stage.removeAllChildren(),e.initialLoad()}))},name:"Retake Snapshot"})),r.a.createElement("div",{style:{height:"90%",width:"100%",color:"black",display:"flex"},className:"App"},r.a.createElement("div",{style:{height:"100%",width:"10%",color:"black",display:"flex"}},r.a.createElement("div",{style:{display:"flex",flexDirection:"column",height:"100%",width:"100%",color:"black"}},r.a.createElement("button",{style:{margin:"5px"},onClick:this.cropImage},"+"," ")," ",r.a.createElement("button",{style:{margin:"5px"},onClick:this.textEditor},"T"),r.a.createElement("button",{style:{margin:"5px"},onClick:this.drawRectangle},"[]"))," "),r.a.createElement("div",{ref:this.container,style:{width:"90%",height:"100%"}},r.a.createElement("canvas",{id:"canvas",width:a-200,height:n-200}),"\xa0")))}}]),t}(r.a.Component),ce=n(172),le=n.n(ce),ue=n(175),pe=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).resetOptions=function(e){le.a.find(n.project.projects,(function(t){t.name===e&&(B(t.id,(function(e){n.components=e.map((function(e){return e.name})),n.detailedComponentArray=e,n.setState({projectName:t.key,components:[]})})),W(t.id,(function(e){n.phases=e.map((function(e){return e.name}))})),q(t.key,(function(e){console.log(e,"fields"),n.rounds=n.getDropDownValues(e[T.rounds]),n.platforms=n.getDropDownValues(e[T.platforms]),n.found_during=n.getDropDownValues(e[T.found_during]),n.testers=n.getDropDownValues(e[T.testers]),n.category=n.getDropDownValues(e[T.category]),n.severity=n.getDropDownValues(e[T.severity])})))}))},n.getDropDownValues=function(e){return e.allowedValues&&e.allowedValues.map((function(e){return e.value}))},n.handleProjectChange=function(e){console.log("sangharsh"),n.resetOptions(e.target.value)},n.handleSubmit=function(e){var t=n.state,a=t.projectName,r=t.components,o=t.projectPhase,i=t.projectRound,s=t.platforms,c=t.foundDuring,l=t.projectTester,u=t.category;e.preventDefault(),n.setState({isSubmit:!0}),""!==a&&r!==[]&&""!==o&&""!==i&&s!==[]&&""!==c&&""!==l&&""!==u&&(Object.assign(n.props.history,{projectDetails:{key:a,components:r,phase:o,round:i,platforms:s,foundDuring:c,tester:l,category:u,severityArray:n.severity}}),n.props.history.push("/CreateIssue"))},n.IndicatorSeparator=function(e){var t=e.innerProps;return r.a.createElement("span",Object.assign({style:{alignSelf:"stretch",backgroundColor:"#5243AA",marginBottom:8,marginTop:8,width:1}},t))},n.renderMultiSelectDropDown=function(e,t,a){console.log("options",e);var o=e.map((function(e){return{value:e,label:e}}));return r.a.createElement(ue.a,{closeMenuOnSelect:!1,components:n.IndicatorSeparator,isMulti:!0,options:o,placeholder:t,onChange:function(e){n.setState(Object(v.a)({},a,e&&e.map((function(e){return e.value}))))}})},n.renderReportPageIntro=function(){var e=n.state,t=e.projectName,a=e.components,o=e.projectPhase,i=e.projectRound,s=e.platforms,c=e.foundDuring,l=e.projectTester,u=e.category,p=e.isSubmit;return r.a.createElement("div",{className:"projectFormWrapper"},""===t&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select project"),r.a.createElement("select",{onChange:n.handleProjectChange,className:"drop-report-issue"},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Select Project"),n.project.projects&&n.project.projects.map((function(e,t){return r.a.createElement("option",null,e.name)}))),a&&0===a.length&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select component/s"),n.renderMultiSelectDropDown(n.components,"Select Component/s","components"),r.a.createElement("div",{style:{display:"flex",width:"100%"}},r.a.createElement("div",{style:{width:"50%",marginRight:"5px"}},""===i&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select round"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({projectRound:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Round"),n.rounds&&n.rounds.map((function(e){return r.a.createElement("option",null,e)})))),r.a.createElement("div",{style:{width:"50%",marginLeft:"5px"}},""===o&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select phase"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({projectPhase:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Phase"),n.phases&&n.phases.map((function(e){return r.a.createElement("option",null,e)}))))),""===u&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select category"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({category:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Category"),n.category&&n.category.map((function(e){return r.a.createElement("option",null,e)}))),s&&0===s.length&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select platform/s"),n.renderMultiSelectDropDown(n.platforms,"Select Platform/s","platforms"),""===c&&p&&r.a.createElement("span",{className:"issue-alert"},"Found During field is empty!"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({foundDuring:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Found During"),n.found_during&&n.found_during.map((function(e){return r.a.createElement("option",null,e)}))),""===l&&p&&r.a.createElement("span",{className:"issue-alert"},"Please select tester"),r.a.createElement("select",{className:"drop-report-issue",onChange:function(e){return n.setState({projectTester:e.target.value})}},r.a.createElement("option",{value:"",disabled:!0,selected:!0,hidden:!0},"Tester Name"),n.testers&&n.testers.map((function(e){return r.a.createElement("option",null,e)}))),r.a.createElement(C,{onClick:n.handleSubmit,name:"Set Environment",style:{margin:"10px 0 0 0"}}))},n.components=[],n.platforms=[],n.state={projectName:"",components:[],projectPhase:"",projectRound:"",platforms:[],foundDuring:"",projectTester:"",category:"",isSubmit:!1},n.project=n.props.history.projectList,n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return console.log(this.platforms,this.state,"Vinod"),r.a.createElement(R,{subHeading:"Project Selection",outerBoxPadding:"10px"},r.a.createElement(y.AvForm,null,this.renderReportPageIntro()))}}]),t}(a.Component),me=window.require("fs"),de=function(e){function t(){return Object(s.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){me.unlink("./tempImage/image.png",(function(e){e&&console.error(e)}))}},{key:"render",value:function(){return r.a.createElement(J.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement(K.c,null,r.a.createElement(K.a,{exact:!0,path:"/",component:I}),r.a.createElement(K.a,{exact:!0,path:"/ScreenShotEditor",component:se}),r.a.createElement(K.a,{exact:!0,path:"/CreateIssue",component:Y}),r.a.createElement(K.a,{exact:!0,path:"/ReportIssue",component:pe}),r.a.createElement(K.a,{exact:!0,path:"/ReportFeedback",component:G})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(de,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},63:function(e,t,n){}},[[176,1,2]]]);
//# sourceMappingURL=main.8dfb9f9e.chunk.js.map